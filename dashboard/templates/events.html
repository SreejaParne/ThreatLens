<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Security Events</title>
<meta http-equiv="refresh" content="60">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #020617;
    color: #e5e7eb;
}

.container {
    padding: 24px;
}

.event {
    padding: 12px 14px;
    margin-bottom: 8px;
    border-radius: 8px;
    font-family: monospace;
    font-size: 14px;
}

/* Severity borders */
.LOW { border-left: 5px solid #22c55e; }
.MEDIUM { border-left: 5px solid #facc15; }
.HIGH { border-left: 5px solid #ef4444; }
.CRITICAL { border-left: 5px solid #dc2626; }

/* Severity background colors */
.event-low {
    background: rgba(34, 197, 94, 0.15);
    color: #9dffb0;
}

.event-medium {
    background: rgba(250, 204, 21, 0.18);
    color: #fff3b0;
}

.event-high {
    background: rgba(239, 68, 68, 0.18);
    color: #ffb3b3;
}

.event-critical {
    background: rgba(220, 38, 38, 0.25);
    color: #ff8a8a;
    font-weight: bold;
}

.back {
    margin-top: 40px;
}

.back a {
    color: #38bdf8;
    text-decoration: none;
    font-weight: bold;
}
</style>

<script>
/* Auto refresh every 30 seconds */
setInterval(() => {
    location.reload();
}, 30000);
</script>

</head>
<body>

<div class="container">
    <h2>⚡ Security Events</h2>

    {% for event in events %}
        <div class="event {{ event.severity }}
            {% if event.severity == 'LOW' %}
                event-low
            {% elif event.severity == 'MEDIUM' %}
                event-medium
            {% elif event.severity == 'HIGH' %}
                event-high
            {% elif event.severity == 'CRITICAL' %}
                event-critical
            {% endif %}
        ">
            {{ event.time }} — {{ event.severity }} — {{ event.message }}
        </div>
    {% else %}
        <p>No security events available.</p>
    {% endfor %}

    <div class="back">
        <a href="/">← Back to Dashboard</a>
    </div>
</div>

</body>
</html>